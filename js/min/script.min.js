window.console&&console.log||!function(){for(var a=function(){},b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],c=b.length,d=window.console={};c--;)d[b[c]]=a}();var waitForFinalEvent=function(){var a={};return function(b,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}();!function(a){function b(){r=x.length,s=Math.floor(r/2)}function c(){w.height(u.hasClass("admin-bar")?t.height()-32:t.height()),x.each(function(){var b,c=a(this);c.height(u.hasClass("admin-bar")?t.height()-32:t.height()),b=c.index()<=Math.floor(r/2)?t.width()/2+c.index()*c.width():t.width()/2-(r-c.index())*c.width(),c.css({left:b}),c.attr("data-showing",c.index()),0===c.index()&&n()})}function d(b){x.each(function(){var b=a(this);b.addClass("preload"),setTimeout(function(){b.remove()},210)}),b&&b()}function e(d,e){setTimeout(function(){d.images.forEach(function(e,f){0===f&&(x=a());var g=a('<img src="'+e.image+'" class="image preload">');x=x.add(g),b(),f===d.images.length-1&&(r=d.images.length,w.append(x),setTimeout(function(){"gallery"===u.attr("data-display")&&c(),imagesLoaded([g])&&g.removeClass("preload"),o(function(){"gallery"!==u.attr("data-display")&&y.removeClass("preload")}),h()},200))})},e?e:0)}function f(){var a=new XMLHttpRequest,b=document.getElementById("site-url").innerHTML;a.open("GET",b+"?request=content",!0),a.onload=function(){a.status>=200&&a.status<400&&(data=JSON.parse(a.responseText),u.attr("data-remember",b),e(data))},a.send()}function g(){var b=a('[data-showing="0"]');b.length>0?v.css("left",parseInt(b.css("left"),10)-b.width()/2-200).animate({opacity:1}):setTimeout(g,10)}function h(){var a=imagesLoaded("#images");a.on("progress",function(a,b){b.img.classList.remove("preload"),c(),g()})}function i(){if("gallery"===u.attr("data-display")){var b=a(this),c=+b.attr("data-showing");c>=1&&s>=c?u.addClass("nexting").removeClass("preving"):r-1>=c&&c>s?u.addClass("preving").removeClass("nexting"):j()}else j()}function j(){u.removeClass("nexting preving")}function k(){w.height(u.hasClass("admin-bar")?t.height()-32:t.height()),x.each(function(){var b,c=a(this),d=+c.attr("data-showing");c.height(u.hasClass("admin-bar")?t.height()-32:t.height()),b=s>=d?t.width()/2+d*c.width():t.width()/2-(r-d)*c.width(),c.css({left:b})})}function l(b){j(),"gallery"===u.attr("data-display")&&x.each(function(){var c,d=a(this),e=+d.attr("data-showing"),f=(e+b+r)%r;c=s>=f?t.width()/2+f*d.width():t.width()/2-(r-f)*d.width(),(s>=e&&f>s&&b>0||e>s&&s>=f&&0>b)&&d.hide(),d.animate({left:c},600,function(){(s>=e&&f>s&&b>0||e>s&&s>=f&&0>b)&&d.show()}),d.attr("data-showing",f)})}function m(){A=a("a"),A.each(function(){this.href.indexOf(location.origin)>-1&&(this.href=this.href.replace("?request=content","")+"?request=content")})}function n(){var b=a('[data-showing="0"]');b.length>0?y.css({left:parseInt(b.css("left"),10),"min-height":u.hasClass("admin-bar")?t.height()-32:t.height(),width:b.width()+2}):setTimeout(n,10)}function o(b){var c=a("#content"),d=u.hasClass("admin-bar")?t.height()-32:t.height();c.length>0&&c.css("top",c.height()<d?(d-c.height())/3:0),setTimeout(o,10),b&&b()}function p(a,b){var c,f="",g=0;if(a.is_gallery)c="gallery",y.addClass("preload"),u.attr("data-remember")!==b&&(u.attr("data-remember",b),d(function(){e(a,500)}),g=500);else if(a.is_press){if(a.is_press){c="press";var h=a.clipping;h.forEach(function(a){f+='<p class="uppercase">'+a.link+"</p>",f+='<img src="'+a.image+'">'})}}else c="content",f=a.content;a.is_gallery||setTimeout(function(){z.animate({opacity:0})},g),setTimeout(function(){z.html(f),o(function(){z.animate({opacity:1}),y.removeClass("preload")})},500+g),u.attr("data-display",c)}function q(a){var b=this.href;if(window.location.origin+window.location.pathname===b.replace("?request=content",""))return a.preventDefault();if(b.indexOf(location.origin)>-1&&b.indexOf("?request=content")>-1){a.preventDefault(),b=b.replace("?request=content","");var c=new XMLHttpRequest;c.open("GET",this.href,!0),c.onload=function(){if(c.status>=200&&c.status<400){data=JSON.parse(c.responseText),p(data,b);var a=data.title+" | DDUGOFF";window.history.pushState({},a,b),document.title=a}},c.send()}}var r,s,t=a(window),u=a("body"),v=(a("main"),a("nav")),w=a("#images"),x=a(".image"),y=a("#container"),z=a("#content");"gallery"===u.attr("data-display")&&u.attr("data-remember",window.location.origin+window.location.pathname),b(),c(),"gallery"!==u.attr("data-display")&&f(),g(),h(),t.on("resize",function(){waitForFinalEvent(g,600,"showNav")}),u.on("mouseover",".image",i),t.on("resize",function(){waitForFinalEvent(k,500,"adjustSlideShow")}),u.on("click",".image",function(){var b=a(this),c=+b.attr("data-showing");l(0!==c&&s>=c?-c:r-c)}),t.keydown(function(a){37===a.keyCode&&l(1),39===a.keyCode&&l(-1)});var A=a("a");m(),n(),t.on("resize",function(){waitForFinalEvent(n,600,"sizeContainer"),waitForFinalEvent(o,600,"positionContent")}),A.click(q)}(jQuery);