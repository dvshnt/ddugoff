window.console&&console.log||!function(){for(var a=function(){},b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],c=b.length,d=window.console={};c--;)d[b[c]]=a}();var waitForFinalEvent=function(){var a={};return function(b,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}();!function(a){function b(){u.height(r.hasClass("admin-bar")?q.height()-32:q.height()),v.each(function(){var b,c=a(this);c.height(r.hasClass("admin-bar")?q.height()-32:q.height()),b=c.index()<=Math.floor(w/2)?q.width()/2+c.index()*c.width():q.width()/2-(w-c.index())*c.width(),c.css({left:b}),c.attr("data-showing",c.index()),0!==c.index()||r.hasClass("page-template-pagesgallery-php")||k()})}function c(){var c=new XMLHttpRequest;c.open("GET",document.getElementById("site-url").innerHTML+"?images=true",!0),c.onload=function(){c.status>=200&&c.status<400&&(data=JSON.parse(c.responseText),data.forEach(function(c,d){var f=a('<img src="'+c.image+'" class="image">');v=v.add(f),d===data.length-1&&(w=v.length,u=a('<div id="images">'),u.append(v).prependTo("#page"),b(),m(function(){z.removeClass("preload")}),e())}))},c.send()}function d(){var b=a('[data-showing="0"]');b.length>0?t.css("left",parseInt(b.css("left"),10)-b.width()/2-200).animate({opacity:1}):setTimeout(d,10)}function e(){var a=imagesLoaded("#images");a.on("progress",function(a,c){c.img.classList.remove("preload"),b(),d()})}function f(){if(0===z.length){var b=a(this),c=+b.attr("data-showing");c>=1&&x>=c?r.addClass("nexting").removeClass("preving"):w-1>=c&&c>x?r.addClass("preving").removeClass("nexting"):g()}else g()}function g(){r.removeClass("nexting preving")}function h(){u.height(r.hasClass("admin-bar")?q.height()-32:q.height()),v.each(function(){var b,c=a(this),d=+c.attr("data-showing");c.height(r.hasClass("admin-bar")?q.height()-32:q.height()),b=x>=d?q.width()/2+d*c.width():q.width()/2-(w-d)*c.width(),c.css({left:b})})}function i(b){console.log("showing image"),g(),0===z.length&&v.each(function(){var c,d=a(this),e=+d.attr("data-showing"),f=(e+b+w)%w;c=x>=f?q.width()/2+f*d.width():q.width()/2-(w-f)*d.width(),(x>=e&&f>x&&b>0||e>x&&x>=f&&0>b)&&d.hide(),d.animate({left:c},600,function(){(x>=e&&f>x&&b>0||e>x&&x>=f&&0>b)&&d.show()}),d.attr("data-showing",f)})}function j(){y=a("a"),y.each(function(){this.href.indexOf(location.origin)>-1&&"home"!==this.getAttribute("rel")&&0===a(this).closest("#menu-collections-menu").length&&(this.href=this.href.replace("?request=content","")+"?request=content")})}function k(){var b=a('[data-showing="0"]');b.length>0&&z.css({left:parseInt(b.css("left"),10),"min-height":r.hasClass("admin-bar")?q.height()-32:q.height(),width:b.width()+2})}function l(a,b){a.css("top",(b-a.height())/2)}function m(b){var c=a("#content"),d=r.hasClass("admin-bar")?q.height()-32:q.height();c.length>0&&c.height()<d?l(c,d):c.height()>=d&&c.css("top",0),setTimeout(m,10),b&&b()}function n(){k(),z.prependTo(s).fadeIn(),m()}function o(b){var c="";if(b.is_press){var d=b.clipping;d.forEach(function(a){c+='<p class="uppercase">'+a.link+"</p>",c+='<img src="'+a.image+'">'})}else c=b.content;if(z.length>0){var e=a("#content");e.fadeOut(function(){e.remove()}),setTimeout(function(){z.html('<div id="content" style="display: none;">'+c+"</div>"),m(),r.removeClass("page-template-pagesgallery-php"),a("#content").fadeIn()},250)}else z=a('<div id="container">'),z.html('<div id="content">'+c+"</div>").hide(),n()}function p(a){var b=this;if(this.href.indexOf(location.origin)>-1&&this.href.indexOf("?request=content")>-1){a.preventDefault();var c=new XMLHttpRequest;c.open("GET",this.href,!0),c.onload=function(){if(c.status>=200&&c.status<400){data=JSON.parse(c.responseText),o(data);var a=data.title+" | DDUGOFF",d=b.href.replace("?request=content","");window.history.pushState({},a,d),document.title=a}},c.send()}}{var q=a(window),r=a("body"),s=a("main"),t=a("nav"),u=a("#images"),v=a(".image"),w=v.length,x=Math.floor(w/2);a("#arrow")}b(),r.hasClass("page-template-pagesgallery-php")||c(),d(),e(),q.on("resize",function(){waitForFinalEvent(d,600,"showNav")}),v.on("mouseover",f),q.on("resize",function(){waitForFinalEvent(h,500,"adjustSlideShow")}),v.click(function(){console.log("clicked an image");var b=a(this),c=+b.attr("data-showing");0!==c&&x>=c?i(-c):c>x&&i(w-c)}),q.keydown(function(a){37===a.keyCode&&i(1),39===a.keyCode&&i(-1)});var y=a("a"),z=a("#container");j(),q.on("resize",function(){waitForFinalEvent(k,600,"sizeContainer"),waitForFinalEvent(m,600,"positionContent")}),y.click(p)}(jQuery);