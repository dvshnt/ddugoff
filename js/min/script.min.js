window.console&&console.log||!function(){for(var a=function(){},b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],c=b.length,d=window.console={};c--;)d[b[c]]=a}();var waitForFinalEvent=function(){var a={};return function(b,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}();!function(a){function b(){p.each(function(){var b,c=a(this);c.height(n.hasClass("admin-bar")?m.height()-32:m.height()),b=c.index()<=Math.floor(q/2)?m.width()/2+c.index()*c.width():m.width()/2-(q-c.index())*c.width(),c.css({left:b}),c.attr("data-showing",c.index())})}function c(){var b=a('[data-showing="0"]');b.length>0?o.css("left",parseInt(b.css("left"),10)-b.width()/2-200).animate({opacity:1}):setTimeout(c,10)}function d(){var b=a(this),c=+b.attr("data-showing");c>=1&&r>=c?b.addClass("nexting"):q-1>=c&&c>r?b.addClass("preving"):e()}function e(){a(".nexting, .preving").removeClass("nexting preving")}function f(){p.each(function(){var b,c=a(this),d=+c.attr("data-showing");c.height(n.hasClass("admin-bar")?m.height()-32:m.height()),b=r>=d?m.width()/2+d*c.width():m.width()/2-(q-d)*c.width(),c.css({left:b})})}function g(b){e(),p.each(function(){var c,d=a(this),e=+d.attr("data-showing"),f=(e+b+q)%q;c=r>=f?m.width()/2+f*d.width():m.width()/2-(q-f)*d.width(),(r>=e&&f>r&&b>0||e>r&&r>=f&&0>b)&&d.hide(),d.animate({left:c},600,function(){(r>=e&&f>r&&b>0||e>r&&r>=f&&0>b)&&d.show()}),d.attr("data-showing",f)})}function h(){t=a("a"),t.each(function(){this.href.indexOf(location.origin)>-1&&"home"!==this.getAttribute("rel")&&(this.href=this.href.replace("?request=content","")+"?request=content")})}function i(){var b=a('[data-showing="0"]');b.length>0&&u.css({left:parseInt(b.css("left"),10),"min-height":m.height(),width:b.width()})}function j(){i(),u.appendTo(n).fadeIn()}function k(b){var c="";if(b.is_press){var d=b.clipping;d.forEach(function(a){c+='<div class="uppercase">'+a.link+"</div>",c+='<img src="'+a.image+'">'})}else c=b.content;if(u.length>0){var e=a("#content");e.fadeOut(function(){e.remove()}),setTimeout(function(){u.html('<div id="content" style="display: none;">'+c+"</div>"),a("#content").fadeIn()},250)}else u=a('<div id="container">'),u.html('<div id="content">'+c+"</div>").hide(),j()}function l(a){var b=this;if(this.href.indexOf(location.origin)>-1&&this.href.indexOf("?request=content")>-1){a.preventDefault();var c=new XMLHttpRequest;c.open("GET",this.href,!0),c.onload=function(){if(c.status>=200&&c.status<400){data=JSON.parse(c.responseText),k(data);var a=data.title+" | DDUGOFF",d=b.href.replace("?request=content","");window.history.pushState({},a,d),document.title=a}},c.send()}}var m=a(window),n=a("body"),o=a("nav"),p=(a("#images"),a(".image")),q=p.length,r=Math.floor(q/2);b(),c();var s=imagesLoaded("#images");s.on("progress",function(a,d){d.img.classList.remove("preload"),b(),c()}),m.on("resize",function(){waitForFinalEvent(c,600,"showNav")}),p.on("mouseover",d),m.on("resize",function(){waitForFinalEvent(f,500,"adjustSlideShow")}),p.click(function(){var b=a(this),c=+b.attr("data-showing");0!==c&&r>=c?g(-c):c>r&&g(q-c)}),m.keydown(function(a){37===a.keyCode&&g(1),39===a.keyCode&&g(-1)});var t=a("a"),u=a("#container");h(),m.on("resize",function(){waitForFinalEvent(i,600,"sizeContainer")}),t.click(l)}(jQuery);