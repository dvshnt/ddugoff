window.console&&console.log||!function(){for(var a=function(){},b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],c=b.length,d=window.console={};c--;)d[b[c]]=a}();var waitForFinalEvent=function(){var a={};return function(b,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}();!function(a){function b(){x.height(u.hasClass("admin-bar")?t.height()-32:t.height()),y.each(function(){var b,c=a(this);c.height(u.hasClass("admin-bar")?t.height()-32:t.height()),b=c.index()<=Math.floor(z/2)?t.width()/2+c.index()*c.width():t.width()/2-(z-c.index())*c.width(),c.css({left:b}),c.attr("data-showing",c.index()),0!==c.index()||u.hasClass("page-template-pagesgallery-php")||m()})}function c(b){y.each(function(){var b=a(this);b.addClass("preload"),setTimeout(function(){b.remove()},210)}),b&&b()}function d(c){c.images.forEach(function(d,e){0===e&&(y=a());var f=a('<img src="'+d.image+'" class="image preload">');y=y.add(f),e===c.images.length-1&&(z=c.images.length,0===x.length&&(x=a('<div id="images">'),x.prependTo(v)),x.append(y),setTimeout(function(){"gallery"===u.attr("data-display")&&b(),imagesLoaded([f])&&f.removeClass("preload"),o(function(){"gallery"!==u.attr("data-display")&&C.removeClass("preload")}),g()},200))})}function e(){var a=new XMLHttpRequest;a.open("GET",document.getElementById("site-url").innerHTML+"?request=content",!0),a.onload=function(){a.status>=200&&a.status<400&&(data=JSON.parse(a.responseText),d(data))},a.send()}function f(){var b=a('[data-showing="0"]');b.length>0?w.css("left",parseInt(b.css("left"),10)-b.width()/2-200).animate({opacity:1}):setTimeout(f,10)}function g(){var a=imagesLoaded("#images");a.on("progress",function(a,c){c.img.classList.remove("preload"),b(),f()})}function h(){if(0===C.length){var b=a(this),c=+b.attr("data-showing");c>=1&&A>=c?u.addClass("nexting").removeClass("preving"):z-1>=c&&c>A?u.addClass("preving").removeClass("nexting"):i()}else i()}function i(){u.removeClass("nexting preving")}function j(){x.height(u.hasClass("admin-bar")?t.height()-32:t.height()),y.each(function(){var b,c=a(this),d=+c.attr("data-showing");c.height(u.hasClass("admin-bar")?t.height()-32:t.height()),b=A>=d?t.width()/2+d*c.width():t.width()/2-(z-d)*c.width(),c.css({left:b})})}function k(b){i(),0===C.length&&y.each(function(){var c,d=a(this),e=+d.attr("data-showing"),f=(e+b+z)%z;c=A>=f?t.width()/2+f*d.width():t.width()/2-(z-f)*d.width(),(A>=e&&f>A&&b>0||e>A&&A>=f&&0>b)&&d.hide(),d.animate({left:c},600,function(){(A>=e&&f>A&&b>0||e>A&&A>=f&&0>b)&&d.show()}),d.attr("data-showing",f)})}function l(){B=a("a"),B.each(function(){this.href.indexOf(location.origin)>-1&&"home"!==this.getAttribute("rel")&&(this.href=this.href.replace("?request=content","")+"?request=content")})}function m(){var b=a('[data-showing="0"]');b.length>0&&C.css({left:parseInt(b.css("left"),10),"min-height":u.hasClass("admin-bar")?t.height()-32:t.height(),width:b.width()+2})}function n(a,b){a.css("top",(b-a.height())/3)}function o(b){var c=a("#content"),d=u.hasClass("admin-bar")?t.height()-32:t.height();c.length>0&&c.height()<d?n(c,d):c.height()>=d&&c.css("top",0),setTimeout(o,10),b&&b()}function p(){m(),C.prependTo(v).fadeIn(),o()}function q(){var b=a("#content");b.fadeOut(function(){b.remove()})}function r(b){var e,f="";if(b.is_gallery)e="gallery",c(function(){C.length>0&&q(),d(b)});else if(b.is_press){if(b.is_press){e="press";var g=b.clipping;g.forEach(function(a){f+='<p class="uppercase">'+a.link+"</p>",f+='<img src="'+a.image+'">'})}}else e="content",f=b.content;C.length>0?(q(),setTimeout(function(){C.html('<div id="content" style="display: none;">'+f+"</div>"),o(),u.removeClass("page-template-pagesgallery-php"),a("#content").fadeIn()},250)):(C=a('<div id="container">'),C.html('<div id="content">'+f+"</div>").hide(),p()),u.attr("data-display",e)}function s(a){var b=this;if(this.href.indexOf(location.origin)>-1&&this.href.indexOf("?request=content")>-1){a.preventDefault();var c=new XMLHttpRequest;c.open("GET",this.href,!0),c.onload=function(){if(c.status>=200&&c.status<400){data=JSON.parse(c.responseText),r(data);var a=data.title+" | DDUGOFF",d=b.href.replace("?request=content","");window.history.pushState({},a,d),document.title=a}},c.send()}}var t=a(window),u=a("body"),v=a("main"),w=a("nav"),x=a("#images"),y=a(".image"),z=y.length,A=Math.floor(z/2);b(),u.hasClass("page-template-pagesgallery-php")||e(),f(),g(),t.on("resize",function(){waitForFinalEvent(f,600,"showNav")}),y.on("mouseover",h),t.on("resize",function(){waitForFinalEvent(j,500,"adjustSlideShow")}),y.click(function(){var b=a(this),c=+b.attr("data-showing");k(0!==c&&A>=c?-c:z-c)}),t.keydown(function(a){37===a.keyCode&&k(1),39===a.keyCode&&k(-1)});var B=a("a"),C=a("#container");l(),t.on("resize",function(){waitForFinalEvent(m,600,"sizeContainer"),waitForFinalEvent(o,600,"positionContent")}),B.click(s)}(jQuery);